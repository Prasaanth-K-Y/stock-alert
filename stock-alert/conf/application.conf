# the  below setup FOR docker
# slick.dbs.default {
#   profile = "slick.jdbc.MySQLProfile$"
#   db {
#     driver = "com.mysql.cj.jdbc.Driver"
#     url = "jdbc:mysql://mysql-stock:3306/testdb?serverTimezone=UTC" # Commnet it while running test  
#     user = "stockuser"
#     password = "stockpass"
#     connectionTimeout = 30000
#   }
# }
# the  below setup FOR CI
slick.dbs.default {
  profile = "slick.jdbc.MySQLProfile$"
  db {
    driver = "com.mysql.cj.jdbc.Driver"
    url = "jdbc:mysql://127.0.0.1:3306/testdb"
    user = "stockuser"
    password = "stockpass"
    connectionTimeout = 30000
  }
}

# the  below setup FOR TEST purposes
# slick.dbs.default {
#   profile = "slick.jdbc.MySQLProfile$"
#   db {
#     driver = "com.mysql.cj.jdbc.Driver"
#     url = "jdbc:mysql://localhost:3306/testdb" 
#     user = "root"
#     password = "000000"
#     connectionTimeout = 30000
#   }
# }

play.pidfile.path = "/tmp/RUNNING_PID"
play.http.secret.key = ${?PLAY_SECRET}
play.evolutions.enabled = true
play.evolutions.autoApply = true
play.evolutions.db.default.autoApplyDowns = false


play.filters.enabled -= play.filters.csrf.CSRFFilter

play.filters.enabled = [
  play.filters.hosts.AllowedHostsFilter,
  play.filters.headers.SecurityHeadersFilter,
  play.filters.cors.CORSFilter
]


#play to run the automation file
play.modules.enabled += "modules.GrpcClientModule"

# grpc port config
grpc {
  alert-service {
    host = "notification-service"   
    port = 50052
  }
}


